<body>
  <h1>Restablecer contrase単a</h1>
  <form id="resetPasswordForm" method="post">
    <label for="password">Nueva contrase単a:</label>
    <input type="password" id="password" name="password" required />
    <label for="confirmPassword">Confirmar contrase単a:</label>
    <input
      type="password"
      id="confirmPassword"
      name="confirmPassword"
      required
    />
    <button type="submit">Restablecer contrase単a</button>
  </form>

  <script>
    // Obtener el token de la URL
    const token = window.location.pathname.split('/').pop();
    
    // Agregar el token como un campo oculto al formulario
    const tokenInput = document.createElement('input');
    tokenInput.type = 'hidden'; 
    tokenInput.name = 'token'; 
    tokenInput.value = token;
    document.getElementById('resetPasswordForm').appendChild(tokenInput);

    // Establecer el action del formulario
    document.getElementById('resetPasswordForm').action = '/api/email/update-password/' + token;
  </script>
</body>
